(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65dcd1de"],{"022d":function(e,t,a){},"2f44":function(e,t,a){},3843:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("Filters"),a("Deals",{attrs:{deals:e.allDeals}})],1)},n=[],s=a("3835"),i=a("2909"),r=(a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"deals"},[a("h3",[e._v(e._s(e.title)+" "+e._s(e.deals.length))]),a("div",{staticClass:"deals__header"},[e.deals.length?a("a",{staticClass:"deals__save-button",attrs:{href:e.urlSave,download:"deals.json"}},[e._v(" Save json ")]):e._e()]),e._l(e.deals,(function(e){return a("div",{key:e[0].name,staticClass:"deals__row"},[a("Deal",{staticClass:"deals__deal",attrs:{deal:e[0]}}),a("Deal",{staticClass:"deals__deal",attrs:{deal:e[1],removable:!0}})],1)}))],2)}),d=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"deal",class:{deal_active:e.isActive}},[e.deal.name?[a("div",{staticClass:"deal__header"},[a("h3",{staticClass:"deal__title",class:{deal__item_changed:e.deal.title.isChange}},[e._v(" "+e._s(e.deal.title.value)+" ")]),a("img",{staticClass:"deal__merchant-logo",attrs:{src:""+e.$options.CDN_ROOT+e.deal.merchantId.value+".svg"}})]),a("ul",{staticClass:"deals__items"},[e._l(e.deal,(function(t,l){return[e.deal[l].value?a("li",{key:l,staticClass:"deal__item",class:{deal__item_changed:e.deal[l].isChange}},[a("span",[e._v(e._s(l)+":")]),e._v(" "+e._s(e.deal[l].value)+" ")]):e._e()]})),e.deal.examples.length?a("table",{staticClass:"deal__examples"},[a("tr",[a("td",[e._v("title")]),e._l(e.deal.examples,(function(t){return a("td",{key:t.name},[e._v(" "+e._s(t.title.value)+" ")])}))],2),a("tr",[a("td",[e._v("link")]),e._l(e.deal.examples,(function(t){return a("td",{key:t.name},[e._v(" "+e._s(t.link.value)+" ")])}))],2),a("tr",[a("td",[e._v("price")]),e._l(e.deal.examples,(function(t){return a("td",{key:t.name,class:{deal__examples_changed:t.price.isChange}},[e._v(" "+e._s(t.price.value)+" ")])}))],2),a("tr",[a("td",[e._v("oldPrice")]),e._l(e.deal.examples,(function(t){return a("td",{key:t.name,class:{deal__examples_changed:t.oldPrice.isChange}},[e._v(" "+e._s(t.oldPrice.value)+" ")])}))],2)]):e._e()],2),a("div",{staticClass:"deal__footer"},[e.deal.isAdd?a("button",{staticClass:"deal__button deal__button_add",on:{click:function(t){return e.handleAddButton(e.deal)}}},[e._v(" add ")]):e._e(),e.deal.isChange?a("button",{staticClass:"deal__button deal__button_update",on:{click:function(t){return e.handleUpdateButton(e.deal)}}},[e._v(" update ")]):e._e(),e.removable?a("button",{staticClass:"deal__button deal__button_remove",on:{click:function(t){return e.handleRemoveButton(e.deal)}}},[e._v(" Remove ")]):e._e()])]:e._e()],2)},o=[],u=a("c9d9"),_=a("ed08"),v={CDN_ROOT:u["b"],props:{deal:{type:Object},dev:{type:Boolean},removable:{type:Boolean,default:!1}},computed:{isActive:function(){var e=this.deal,t=e.enabled,a=e.expireDate;return(null===t||void 0===t?void 0:t.value)&&new Date(a.value)>new Date},isShowUpdateButton:function(){var e;return!(null===(e=this.deal.update)||void 0===e||!e.length)}},methods:{isChangedDeal:_["e"],handleAddButton:function(e){this.$store.commit("addDeal",e)},handleUpdateButton:function(e){this.$store.commit("updateDeal",e)},handleRemoveButton:function(e){this.$store.commit("removeDeal",e)}}},f=v,p=(a("75a6"),a("2877")),m=Object(p["a"])(f,c,o,!1,null,null,null),h=m.exports,b={props:{deals:{type:Array,default:function(){return[]}},title:{type:String,default:""}},components:{Deal:h},computed:{urlSave:function(){return Object(_["f"])(this.deals)}}},D=b,x=(a("d186"),Object(p["a"])(D,r,d,!1,null,null,null)),C=x.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"filters"},[a("label",[e._v(" Not expired "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterExpireDate,expression:"filterExpireDate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filterExpireDate)?e._i(e.filterExpireDate,null)>-1:e.filterExpireDate},on:{change:function(t){var a=e.filterExpireDate,l=t.target,n=!!l.checked;if(Array.isArray(a)){var s=null,i=e._i(a,s);l.checked?i<0&&(e.filterExpireDate=a.concat([s])):i>-1&&(e.filterExpireDate=a.slice(0,i).concat(a.slice(i+1)))}else e.filterExpireDate=n}}})]),a("label",[e._v(" Enabled "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.filterEnabled,expression:"filterEnabled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.filterEnabled)?e._i(e.filterEnabled,null)>-1:e.filterEnabled},on:{change:function(t){var a=e.filterEnabled,l=t.target,n=!!l.checked;if(Array.isArray(a)){var s=null,i=e._i(a,s);l.checked?i<0&&(e.filterEnabled=a.concat([s])):i>-1&&(e.filterEnabled=a.slice(0,i).concat(a.slice(i+1)))}else e.filterEnabled=n}}})])])},E=[],k={components:{},computed:{filterExpireDate:{get:function(){return this.$store.state.filters.expireDate},set:function(e){this.$store.commit("filters/update",{expireDate:e})}},filterEnabled:{get:function(){return this.$store.state.filters.enabled},set:function(e){this.$store.commit("filters/update",{enabled:e})}},merchantsId:function(){return this.$store.state.merchantsId}},methods:{handleDropdownChange:function(e){var t=e.target.value;"false"===t?this.$store.commit("filters/update",{merchantId:!1}):this.$store.commit("filters/update",{merchantId:t})}}},y=k,w=(a("cbf7"),Object(p["a"])(y,g,E,!1,null,null,null)),$=w.exports,A={components:{Deals:C,Filters:$},computed:{allDeals:function(){var e=this.$store.state.filters;return this.filtredDeals(this.$store.state.allDeals,e)}},created:function(){this.$store.dispatch("getAllDeals")},methods:{filtredDeals:function(e,t){var a=t.enabled,l=t.expireDate,n=Object(i["a"])(e);return a&&(n=n.filter((function(e){var t,a,l=Object(s["a"])(e,2),n=l[0],i=l[1];return(null===(t=n.enabled)||void 0===t?void 0:t.value)||(null===(a=i.enabled)||void 0===a?void 0:a.value)}))),l&&(n=n.filter((function(e){var t,a,l=Object(s["a"])(e,2),n=l[0],i=l[1];return new Date(null===(t=n.expireDate)||void 0===t?void 0:t.value)>new Date||new Date(null===(a=i.expireDate)||void 0===a?void 0:a.value)>new Date}))),n}}},O=A,j=Object(p["a"])(O,l,n,!1,null,null,null);t["default"]=j.exports},"75a6":function(e,t,a){"use strict";a("2f44")},"9d3d":function(e,t,a){},cbf7:function(e,t,a){"use strict";a("022d")},d186:function(e,t,a){"use strict";a("9d3d")}}]);
//# sourceMappingURL=chunk-65dcd1de.99d99ec5.js.map